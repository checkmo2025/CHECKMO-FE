import React from 'react';
import { useNavigate, useParams } from 'react-router-dom';
import type { AnnouncementProps } from '../../types/announcement';
import checkerImage from "../../assets/images/checker.png";
import backIcon from "../../assets/icons/backIcon.png";

// ë¶„ë¦¬ëœ ì»¨í…ì¸  ì»´í¬ë„ŒíŠ¸ë“¤ import
import MeetingNoticeContent from '../../components/BookClub/MeetingNoticeContent';
import GeneralNoticeContent from '../../components/BookClub/GeneralNoticeContent';
import VoteNoticeContent from '../../components/BookClub/VoteNoticeContent';

export default function NoticeDetailPage(): React.ReactElement {
  const navigate = useNavigate();
  const { noticeId } = useParams<{ noticeId: string }>();
  
  // ëª¨ë“  íƒ€ì…ì˜ ê³µì§€ì‚¬í•­ ë”ë¯¸ ë°ì´í„° (ë‚˜ì¤‘ì— APIë¡œ ë°›ì•„ì˜¬ ì˜ˆì •)
  const dummyNoticeData: { [key: string]: AnnouncementProps } = {
    // ëª¨ì„ ê³µì§€ì‚¬í•­
    '1': {
      id: 1,
      title: '1ì›” ì‹ ë…„ ì²« ëª¨ì„ ğŸ‰',
      clubName: 'ë¶ì ë¶ì ',
      tag: 'ëª¨ì„',
      meetingDate: '2025. 1. 18. (í† ) 15:00',
      meetingPlace: 'ê°•ë‚¨ì—­ CGV ì• íˆ¬ì¸í”Œë ˆì´ìŠ¤ 3ì¸µ',
      book: 'ë„¥ì„œìŠ¤',
      bookAuthor: 'ìœ ë°œ ë…¸ì•„ í•˜ë¼ë¦¬',
      bookPublisher: 'ê¹€ì˜ì‚¬',
      imageUrl: checkerImage,
      description: 'ğŸŠ ìƒˆí•´ ì²« ëª¨ì„ì„ í•¨ê»˜í•´ìš”!\n\nì•ˆë…•í•˜ì„¸ìš” ë¶ì ë¶ì  ê°€ì¡± ì—¬ëŸ¬ë¶„!\n2025ë…„ ì²« ëª¨ì„ìœ¼ë¡œ ì—¬ëŸ¬ë¶„ì„ ì´ˆëŒ€í•©ë‹ˆë‹¤.\n\nğŸ“š ì´ë²ˆ ëª¨ì„ì—ì„œëŠ” í•˜ë¼ë¦¬ì˜ ì‹ ì‘ "ë„¥ì„œìŠ¤"ë¥¼ ë‹¤ë¤„ë³¼ ì˜ˆì •ì…ë‹ˆë‹¤.\n\nğŸ“ ì¤€ë¹„ì‚¬í•­:\nâ€¢ 1ë¶€ 1~5ì¥ê¹Œì§€ ì½ì–´ì£¼ì„¸ìš”\nâ€¢ ë³¸ì¸ì´ ì¸ìƒ ê¹Šì—ˆë˜ êµ¬ì ˆ í•˜ë‚˜ì”© ì¤€ë¹„í•´ì£¼ì„¸ìš”\nâ€¢ ê¶ê¸ˆí•œ ì ì´ë‚˜ í† ë¡ í•˜ê³  ì‹¶ì€ ì£¼ì œê°€ ìˆë‹¤ë©´ ë©”ëª¨í•´ì˜¤ì„¸ìš”\n\nğŸ¯ ì´ë²ˆ ëª¨ì„ì˜ ì£¼ìš” í† ë¡  ì£¼ì œ:\n- AIì™€ ì¸ê°„ì˜ ê³µì¡´ì€ ê°€ëŠ¥í• ê¹Œ?\n- ì •ë³´ ë„¤íŠ¸ì›Œí¬ ì‹œëŒ€ì˜ ì§„ì‹¤ê³¼ ê±°ì§“\n- ë¯¸ë˜ ì‚¬íšŒì˜ ê¶Œë ¥ êµ¬ì¡°ëŠ” ì–´ë–»ê²Œ ë³€í• ê¹Œ?\n\nâ° 3ì‹œê°„ ì •ë„ ì˜ˆìƒë˜ë©°, ëª¨ì„ í›„ ê·¼ì²˜ì—ì„œ ì‹ ë…„íšŒë„ ê°€ì§ˆ ì˜ˆì •ì…ë‹ˆë‹¤!\nìƒˆí•´ ì²« ëª¨ì„ì¸ ë§Œí¼ ë§ì€ ë¶„ë“¤ì´ ì°¸ì„í•´ì£¼ì‹œë©´ ì¢‹ê² ì–´ìš” ğŸ˜Š',
      bookDescription: 'ì¸ë¥˜ ë¬¸ëª…ì˜ ë°œì „ ê³¼ì •ì„ ì •ë³´ ë„¤íŠ¸ì›Œí¬ì˜ ê´€ì ì—ì„œ ë¶„ì„í•œ ìœ ë°œ í•˜ë¼ë¦¬ì˜ ìµœì‹ ì‘. ì •ë³´ì˜ íë¦„ì´ ì–´ë–»ê²Œ ì¸ë¥˜ì˜ ì—­ì‚¬ë¥¼ ë°”ê¾¸ì–´ ì™”ëŠ”ì§€, ê·¸ë¦¬ê³  ë¯¸ë˜ì—ëŠ” ì–´ë–¤ ë³€í™”ê°€ ì¼ì–´ë‚ ì§€ë¥¼ ì˜ˆì¸¡í•˜ëŠ” í†µì°°ë ¥ ìˆëŠ” ì±…ì…ë‹ˆë‹¤.',
      generation: 7,
      categories: [6, 9] // ì¸ë¬¸í•™, ì‚¬íšŒê³¼í•™
    },
    // íˆ¬í‘œ ê³µì§€ì‚¬í•­
    '2': {
      id: 2,
      title: '2ì›” ì •ê¸° ëª¨ì„ ì°¸ì„ ì—¬ë¶€ íˆ¬í‘œ ğŸ“‹',
      clubName: 'ë¶ì ë¶ì ',
      tag: 'íˆ¬í‘œ',
      meetingDate: '2025.02.22 Â· 15ì‹œ',
      meetingPlace: 'ê°•ë‚¨ì—­ CGV ì• íˆ¬ì¸í”Œë ˆì´ìŠ¤ 3ì¸µ',
      afterPartyPlace: 'ê·¼ì²˜ ë§›ì§‘ì—ì„œ ë’·í’€ì´',
      book: 'ì‚¬í”¼ì—”ìŠ¤',
      bookAuthor: 'ìœ ë°œ ë…¸ì•„ í•˜ë¼ë¦¬',
      bookPublisher: 'ê¹€ì˜ì‚¬',
      imageUrl: checkerImage,
      description: 'ì•ˆë…•í•˜ì„¸ìš”! 2ì›” ì •ê¸° ëª¨ì„ ì°¸ì„ ì—¬ë¶€ë¥¼ í™•ì¸í•˜ê¸° ìœ„í•œ íˆ¬í‘œì…ë‹ˆë‹¤.\n\nğŸ“… ëª¨ì„ ì¼ì •: 2025ë…„ 2ì›” 22ì¼ (í† ) ì˜¤í›„ 3ì‹œ\nğŸ“ ì¥ì†Œ: ê°•ë‚¨ì—­ CGV ì• íˆ¬ì¸í”Œë ˆì´ìŠ¤ 3ì¸µ\nğŸ“š ë„ì„œ: ì‚¬í”¼ì—”ìŠ¤ (7~12ì¥)\n\nğŸ—³ï¸ íˆ¬í‘œ ë§ˆê°: 1ì›” 25ì¼ (í† ) ë°¤ 12ì‹œ\n\nì •í™•í•œ ì¸ì› íŒŒì•…ì„ ìœ„í•´ ê¼­ íˆ¬í‘œì— ì°¸ì—¬í•´ì£¼ì„¸ìš”!\nëª¨ì„ í›„ ë’·í’€ì´ë„ ì¤€ë¹„í•  ì˜ˆì •ì´ë‹ˆ ë§ì€ ì°¸ì—¬ ë¶€íƒë“œë ¤ìš” ğŸ»\n\nâ€» ë¶€ë“ì´í•˜ê²Œ ì°¸ì„ì´ ì–´ë ¤ìš°ì‹  ë¶„ë“¤ë„ íˆ¬í‘œí•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤.',
      bookDescription: 'í˜¸ëª¨ ì‚¬í”¼ì—”ìŠ¤ëŠ” ì–´ë–»ê²Œ ì§€êµ¬ì˜ ì§€ë°°ìê°€ ë˜ì—ˆì„ê¹Œ? ì¸ì§€í˜ëª…, ë†ì—…í˜ëª…, ê³¼í•™í˜ëª…ì´ë¼ëŠ” ì„¸ ê°€ì§€ í˜ëª…ì„ í†µí•´ ì¸ë¥˜ ì—­ì‚¬ì˜ ë¹…í”½ì²˜ë¥¼ ì œì‹œí•˜ëŠ” ì„¸ê³„ì  ë² ìŠ¤íŠ¸ì…€ëŸ¬.',
      generation: 7,
      categories: [6, 8, 9], // ì¸ë¬¸í•™, ì—­ì‚¬/ë¬¸í™”, ì‚¬íšŒê³¼í•™
      voteDeadline: {
        datetime: '2025-01-25T23:59:00',
        year: 2025,
        month: 1,
        date: 25,
        day: 'í† ',
        hour: 23,
        minute: 59
      },
      voteOptions: [
        { id: 'attend', label: 'ì°¸ì„ (ëª¨ì„ + ë’·í’€ì´ ëª¨ë‘ ì°¸ì—¬)', value: 'attend' },
        { id: 'meeting_only', label: 'ëª¨ì„ë§Œ ì°¸ì„ (ë’·í’€ì´ëŠ” ë¶ˆì°¸)', value: 'meeting_only' },
        { id: 'party_only', label: 'ë’·í’€ì´ë§Œ ì°¸ì„ (ëª¨ì„ì€ ë¶ˆì°¸)', value: 'party_only' },
        { id: 'absent', label: 'ë¶ˆì°¸ (ê°œì¸ ì‚¬ì •ìœ¼ë¡œ ì°¸ì„ ì–´ë ¤ì›€)', value: 'absent' },
      ],
    },
    // ì¼ë°˜ ê³µì§€ì‚¬í•­
    '3': {
      id: 3,
      title: 'ë¶ì ë¶ì  MT ê³µì§€',
      clubName: 'ë¶ì ë¶ì ',
      tag: 'ê³µì§€',
      book: 'ì—°ê¸ˆìˆ ì‚¬',
      bookAuthor: 'íŒŒìš¸ë¡œ ì½”ì—˜ë£Œ',
      bookPublisher: 'ë¬¸í•™ë™ë„¤',
      imageUrl: checkerImage,
      announcementTitle: 'ë¶ì  ë¶ì  ì— í‹°ê°€ëŒì•„ì™”ë‹¤~',
      announcement: 'ğŸŒ² ë¶ì ë¶ì  ì— í‹° ê³µì§€\n ğŸ“š ì˜¬í•´ë„ ì–´ê¹€ì—†ì´ ë¶ì ì´ë“¤ì˜ ì†Œí’ì´ ëŒì•„ì™”ìŠµë‹ˆë‹¤!\n ì±… ë®ê³  ìì—° ì†ìœ¼ë¡œ, ì ì‹œ ê°ì„±ì„ ì¶©ì „í•˜ëŸ¬ ë– ë‚˜ìš”âœ¨\n âœ”ï¸ ë‚ ì§œ / ì¥ì†Œ / íˆ¬í‘œ: [ë°”ë¡œê°€ê¸°]',
      description: 'ğŸŒ² ë¶ì ë¶ì  ì— í‹° ê³µì§€\n\nğŸ“š ì˜¬í•´ë„ ì–´ê¹€ì—†ì´ ë¶ì ì´ë“¤ì˜ ì†Œí’ì´ ëŒì•„ì™”ìŠµë‹ˆë‹¤!\nì±… ë®ê³  ìì—° ì†ìœ¼ë¡œ, ì ì‹œ ê°ì„±ì„ ì¶©ì „í•˜ëŸ¬ ë– ë‚˜ìš”âœ¨\n\nğŸ“… ì¼ì •: 2025ë…„ 2ì›” 15ì¼(í† ) ~ 16ì¼(ì¼) 1ë°• 2ì¼\nğŸ“ ì¥ì†Œ: ê°•ì›ë„ í‰ì°½ íœì…˜\nğŸ’° ì°¸ê°€ë¹„: 15ë§Œì› (ìˆ™ë°•, ì‹ì‚¬, ì•¡í‹°ë¹„í‹° í¬í•¨)\n\nğŸ¯ ì— í‹° í”„ë¡œê·¸ë¨:\nâ€¢ 15ì¼ ì €ë…: ë„ì°© í›„ í™˜ì˜íšŒ & ê²Œì„\nâ€¢ 16ì¼ ì˜¤ì „: ë…ì„œ í† ë¡  ì‹œê°„\nâ€¢ 16ì¼ ì˜¤í›„: ìì—° ì† ì‚°ì±… & ë§ˆë¬´ë¦¬\n\nì°¸ê°€ ì‹ ì²­ì€ 1ì›” 31ì¼ê¹Œì§€ í•´ì£¼ì„¸ìš”!\në” ìì„¸í•œ ì •ë³´ëŠ” ë‹¨í†¡ë°©ì„ í™•ì¸í•´ì£¼ì„¸ìš” ğŸ“±',
      bookDescription: 'ê¿ˆì„ ì´ë£¨ê¸° ìœ„í•œ ì—¬í–‰ì„ ê·¸ë¦° í˜„ëŒ€ì˜ ê³ ì „. í•œ ì†Œë…„ì´ ìì‹ ì˜ ìš´ëª…ì„ ì°¾ì•„ ë– ë‚˜ëŠ” ëª¨í—˜ì„ í†µí•´ ì¸ìƒì˜ ì˜ë¯¸ë¥¼ ê¹¨ë‹«ê²Œ í•´ì£¼ëŠ” ê°ë™ì ì¸ ì´ì•¼ê¸°ì…ë‹ˆë‹¤.',
      generation: 5,
      categories: [1, 7], // ì†Œì„¤, ì—ì„¸ì´
    },
    '4': {
      id: 4,
      title: '2ì›” ì •ê¸° ëª¨ì„ ì•ˆë‚´',
      clubName: 'ë¶ì ë¶ì ',
      tag: 'ëª¨ì„',
      meetingDate: '2025. 2. 8. (í† ) 14:00',
      meetingPlace: 'í™ëŒ€ì…êµ¬ì—­ 9ë²ˆ ì¶œêµ¬ ì• ìŠ¤íƒ€ë²…ìŠ¤ 2ì¸µ',
      book: 'ì‚¬í”¼ì—”ìŠ¤',
      bookAuthor: 'ìœ ë°œ ë…¸ì•„ í•˜ë¼ë¦¬',
      bookPublisher: 'ê¹€ì˜ì‚¬',
      imageUrl: checkerImage,
      description: 'ì•ˆë…•í•˜ì„¸ìš” ë¶ì ë¶ì  íšŒì› ì—¬ëŸ¬ë¶„! ğŸŒŸ\n\nì´ë²ˆ ë‹¬ ì •ê¸°ëª¨ì„ì„ ì•ˆë‚´ë“œë¦½ë‹ˆë‹¤.\n\nğŸ“– ì´ë²ˆ ë‹¬ ë„ì„œ: ì‚¬í”¼ì—”ìŠ¤\nâ€¢ 1~6ì¥ê¹Œì§€ ì½ê³  ì™€ì£¼ì„¸ìš”\nâ€¢ íŠ¹íˆ 3ì¥ "ì¸ë¥˜ì˜ í†µí•©" ë¶€ë¶„ì— ì§‘ì¤‘í•´ì„œ í† ë¡ í•  ì˜ˆì •ì…ë‹ˆë‹¤\n\nğŸ—£ï¸ í† ë¡  ì£¼ì œ:\n1. ì¸ì§€í˜ëª…ì´ ì¸ë¥˜ì—ê²Œ ë¯¸ì¹œ ì˜í–¥ì€?\n2. í˜„ëŒ€ ì‚¬íšŒì—ì„œ "ìƒìƒì˜ ì§ˆì„œ"ëŠ” ë¬´ì—‡ì¸ê°€?\n3. ì¢…êµì™€ ì´ë°ì˜¬ë¡œê¸°ì˜ ì—­í• ì— ëŒ€í•œ ìƒê°\n\nâ˜• ëª¨ì„ í›„ ê·¼ì²˜ ì¹´í˜ì—ì„œ ë’·í’€ì´ë„ ìˆì„ ì˜ˆì •ì´ë‹ˆ ë§ì€ ì°¸ì—¬ ë¶€íƒë“œë ¤ìš”!\n\nê¶ê¸ˆí•œ ì ì´ ìˆìœ¼ì‹œë©´ ì–¸ì œë“  ì—°ë½ì£¼ì„¸ìš” ğŸ“',
      bookDescription: 'í˜¸ëª¨ ì‚¬í”¼ì—”ìŠ¤ëŠ” ì–´ë–»ê²Œ ì§€êµ¬ì˜ ì§€ë°°ìê°€ ë˜ì—ˆì„ê¹Œ? ì¸ì§€í˜ëª…, ë†ì—…í˜ëª…, ê³¼í•™í˜ëª…ì´ë¼ëŠ” ì„¸ ê°€ì§€ í˜ëª…ì„ í†µí•´ ì¸ë¥˜ ì—­ì‚¬ì˜ ë¹…í”½ì²˜ë¥¼ ì œì‹œí•˜ëŠ” ì„¸ê³„ì  ë² ìŠ¤íŠ¸ì…€ëŸ¬.',
      generation: 3,
      categories: [6, 8, 9] // ì¸ë¬¸í•™, ì—­ì‚¬/ë¬¸í™”, ì‚¬íšŒê³¼í•™
    }
  };
  
  const noticeData = noticeId ? dummyNoticeData[noticeId] : dummyNoticeData['1'];
  
  //ê³µì§€ì‚¬í•­ ì •ë³´ ëª» ë°›ì•˜ì„ ë•Œì˜ ì½”ë“œ êµ¬í˜„ í•„ìš”?

  // ê³µì§€ì‚¬í•­ íƒ€ì…ë³„ ì»¨í…ì¸  ë Œë”ë§
  const renderNoticeContent = () => {
    switch (noticeData.tag) {
      case 'ëª¨ì„':
        return <MeetingNoticeContent data={noticeData} />;
      case 'ê³µì§€':
        return <GeneralNoticeContent data={noticeData} />;
      case 'íˆ¬í‘œ':
        return <VoteNoticeContent data={noticeData} />;
      default:
        return <div>ì•Œ ìˆ˜ ì—†ëŠ” ê³µì§€ì‚¬í•­ íƒ€ì…ì…ë‹ˆë‹¤.</div>;
    }
  };

  return (
    <div className="mt-[30px] ml-[51px]">
      {/* ê³µí†µ í—¤ë” */}
      <div className="flex items-center mb-[25px]">
        <button 
          onClick={() => navigate(-1)}
          className="w-[24px] h-[24px] mr-[3px] cursor-pointer"
        >
          <img src={backIcon} alt="back" />
        </button>
        <h1 className="font-pretendard font-semibold text-[24px] leading-[135%] tracking-[-0.1%] text-[#2c2c2c]">
          ê³µì§€ì‚¬í•­
        </h1>
      </div>

      <div className=" overflow-y-auto h-[calc(100vh-100px)] w-full">
        {/* íƒ€ì…ë³„ ì»¨í…ì¸  */}
        {renderNoticeContent()}
      </div>
    </div>
  );
} 